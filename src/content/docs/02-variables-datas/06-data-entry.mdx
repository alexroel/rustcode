---
title: Entrada de datos
description: En este artículo, exploraremos cómo leer datos desde la consola y mostrar información al usuario en Rust.
---

El manejo de entrada y salida de datos es una parte esencial de la programación, ya que permite a los programas interactuar con los usuarios y procesar información. En Rust, puedes leer datos desde la consola y mostrar mensajes utilizando funciones y macros proporcionados por la biblioteca estándar. En este artículo, exploraremos cómo leer datos desde la consola y mostrar información al usuario en Rust.


## Leer datos desde la consola

Para leer datos ingresados por el usuario desde la consola en Rust, puedes utilizar la función `read_line()` del módulo `io` de la biblioteca estándar `std`. Esta función lee una línea de texto desde la entrada estándar y la almacena en una variable mutable. Aquí hay un ejemplo simple que muestra cómo leer un número ingresado por el usuario y mostrarlo en la consola:

```rust
use std::io::stdin;

fn main() {
    println!("Mi primer juego con Rust");

    let mut user_choese = String::new();

    println!("Ingresa un número entre (0 y 100):");
    
    // Lee los datos ingresados por el usuario desde el teclado
    stdin().read_line(&mut user_choese).;
    
    println!("El número ingresado por el usuario es: {}", user_choese);
}
```

- `use std::io::stdin`: Importa el módulo `stdin` del módulo `io` de la biblioteca estándar `std`.
- `stdin()`: Lee la entrada estándar, es decir, los datos que el usuario ingresa a través del teclado.
- `read_line(&mut user_choese)`: Lee la línea de texto ingresada por el usuario y la almacena en la variable `user_choese`.
- `unwrap()`: Maneja cualquier error que pueda ocurrir durante la lectura de la entrada.

:::note[Uso de `expect("Mensaje de error")`]

En lugar de `unwrap()`, puedes usar `expect("Mensaje de error")` para mostrar un mensaje de error personalizado si ocurre un error durante la lectura de la entrada. Por ejemplo:

```rust
stdin().read_line(&mut user_choese).expect("Error al ingresar datos");
```

:::


## Uso de `print!` y vaciado de búfer

En Rust, puedes usar el macro `print!` para mostrar mensajes en la consola sin agregar un salto de línea al final. Esto es útil cuando deseas mostrar mensajes en la misma línea que la entrada del usuario. Para vaciar el búfer de salida y mostrar los mensajes inmediatamente, puedes usar la función `flush()` del módulo `io::stdout()`. Aquí hay un ejemplo que muestra cómo usar `print!` y `flush()` para interactuar con el usuario:

```rust
use std::io::{stdin, stdout, Write};

fn main() {
    println!("Adivina el número");

    let mut user_choese = String::new();

    print!("Ingresa un número entre (0 y 100):");
    // Vacía el búfer de salida para mostrar el mensaje inmediatamente
    stdout().flush().expect("Error al vaciar el búfer");

    // Lee los datos desde el teclado
    stdin().read_line(&mut user_choese).expect("Error al leer la línea");
    
    println!("El número ingresado por el usuario es: {}", user_choese);
}
```

- `use std::io::{stdin, stdout, Write}`: Importa los módulos `stdin`, `stdout` y `Write` del módulo `io` de la biblioteca estándar `std`.

- `stdout().flush().expect("Error al vaciar el búfer")`: Vacía el búfer de salida para mostrar el mensaje inmediatamente en la consola.

:::tip[Uso de `flush()`]

La función `flush()` se utiliza para vaciar el búfer de salida y mostrar los mensajes inmediatamente en la consola. Esto es útil cuando deseas que los mensajes se muestren de inmediato en lugar de esperar a que se llene el búfer.

:::

## Caracteres especiales

En Rust, puedes usar caracteres especiales para dar formato a los mensajes que se muestran en la consola. Algunos de los caracteres especiales más comunes son:

- `\n`: Salto de línea.
- `\t`: Tabulación.
- `\r`: Retorno de carro.
- `\\`: Barra invertida.
- `\"`: Comillas dobles.

Aquí hay un ejemplo que muestra cómo usar caracteres especiales en Rust:

```rust
fn main() {
    println!("Hola, \n\tRust");
    println!("Esto es una barra invertida: \\");
    println!("Esto es una comilla doble: \"");
}
```

## Conclusión

En Rust, la entrada y salida de datos desde la consola se maneja a través del módulo `io` de la biblioteca estándar. Con los macros `print!` y `println!`, puedes mostrar mensajes en la consola, y con `stdin().read_line()`, puedes leer la entrada del usuario. Además, es importante conocer el uso de `flush()` para vaciar el búfer de salida cuando sea necesario. Estos conceptos son esenciales para interactuar con los usuarios y crear aplicaciones más dinámicas y útiles.







